<!-- Menu de Navegação Auto-Hide (oculto em TV) -->
<nav *ngIf="showMenu() && !isTVMode()" 
     style="position: fixed; top: 0; left: 0; right: 0; background: #2d3748; color: white; padding: 1rem; z-index: 10000; display: flex; gap: 1rem; align-items: center; transition: opacity 0.3s ease;">
  <a href="/" style="color: white; text-decoration: none; padding: 0.5rem 1rem; background: #667eea; border-radius: 4px;">🏠 Home</a>
  <a href="/admin" style="color: white; text-decoration: none; padding: 0.5rem 1rem; background: #4a5568; border-radius: 4px;">⚙️ Admin</a>
  <a href="/display" style="color: white; text-decoration: none; padding: 0.5rem 1rem; background: #4a5568; border-radius: 4px;">🎯 Display</a>
  <a href="/visor" style="color: white; text-decoration: none; padding: 0.5rem 1rem; background: #38a169; border-radius: 4px;">📺 Visor</a>
  <button (click)="toggleFullscreen()" style="background: #38a169; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">📺 Tela Cheia</button>
  <span style="margin-left: auto; font-size: 0.9rem; opacity: 0.8;">🍦 Painel de Gelateria</span>
</nav>

<div class="visor" 
     [class.scroll-enabled]="enableScroll()"
     [class.tv-mode]="isTVMode()"
     [style.gridTemplateColumns]="'repeat(' + grid().columns + ', 1fr)'" 
     [style.gridTemplateRows]="'repeat(' + (grid().rows + headerGrid().rows + 1) + ', auto)'" 
     [style.margin-top]="(showMenu() && !isTVMode()) ? '4rem' : '0'"
     style="display:grid; gap: 1rem; padding: 2rem; background: white; height: 100vh; width: 100vw;">
  <!-- Logo Image -->
  <div class="logo-image" [style.gridColumn]="'1 / span ' + grid().columns" *ngIf="settings().logoImageUrl" style="display: flex; justify-content: center; align-items: center; margin: 1rem 0;">
    <img [src]="settings().logoImageUrl" alt="Logo" style="max-width: 100%; max-height: 200px; object-fit: contain;" />
  </div>
  <!-- Header titles as per headerGrid -->
  <div class="header-grid" [style.gridColumn]="'1 / span ' + grid().columns" [style.gridTemplateColumns]="'repeat(' + headerGrid().columns + ', 1fr)'" style="display:grid; gap:0.5rem; margin-bottom:1rem;">
    <div class="header-cell" *ngFor="let tid of headerGrid().cells" style="min-height:64px; display:flex; align-items:center; justify-content:center; background:transparent; border:none;">
      <span [style.color]="settings().titleColor" style="font-size:1.5rem; font-weight:700;">{{ titleName(tid) }}</span>
    </div>
  </div>
  <ng-container *ngFor="let id of grid().cells">
    <div class="cell" [style.border]="settings().showGridLines ? '1px solid #e5e7eb' : 'none'" style="min-height:120px; display:flex; align-items:center; justify-content:flex-start; padding-left:0.5rem;">
      <img *ngIf="imageUrl(id)" [src]="imageUrl(id)" [alt]="imageName(id)" style="max-width: 90%; max-height: 90%; object-fit: cover; align-self: flex-start; margin-top: 0.5rem;" />
      <span *ngIf="!imageUrl(id)" class="label" style="font-size:2rem; text-align: left;">
        {{ nameFor(id) }}
      </span>
    </div>
  </ng-container>
  
  <!-- Espaçamento para scroll - sempre visível quando necessário -->
  <div class="scroll-spacer" [style.gridColumn]="'1 / span ' + grid().columns" style="height: 4rem; background: transparent;"></div>
</div>


