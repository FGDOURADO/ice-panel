<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <title>üç¶ Painel de Gelateria</title>
    <base href="/ice-panel/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
        body { font-family: Inter, sans-serif; text-align: center; padding: 2rem; }
        .loading { color: #4a5568; }
    </style>
</head>
<body>
    <div class="loading">üç¶ Carregando Painel de Gelateria...</div>
    <script>
        // Preserve the current path and redirect to Angular app
        const currentPath = window.location.pathname;
        const search = window.location.search;
        const hash = window.location.hash;
        
        // Build the complete target path
        let targetPath = currentPath;
        if (!targetPath.startsWith('/ice-panel/')) {
            targetPath = '/ice-panel' + (targetPath === '/' ? '' : targetPath);
        }
        
        // Add search params and hash if they exist
        if (search) targetPath += search;
        if (hash) targetPath += hash;
        
        console.log('404.html: Preserving path:', targetPath);
        
        // Store the target path for Angular to handle
        sessionStorage.setItem('redirect', targetPath);
        
        // Redirect to the main app
        window.location.href = '/ice-panel/';
    </script>
</body>
</html>
